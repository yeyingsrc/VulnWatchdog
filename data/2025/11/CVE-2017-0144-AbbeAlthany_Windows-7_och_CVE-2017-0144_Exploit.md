## CVE-2017-0144 - Windows SMB 远程代码执行漏洞

**漏洞编号:** CVE-2017-0144

**漏洞类型:** 远程代码执行

**影响应用:** Windows SMBv1

**危害等级:** 高危，可能导致远程代码执行

**影响版本:** Windows Vista SP2; Windows Server 2008 SP2 and R2 SP1; Windows 7 SP1; Windows 8.1; Windows Server 2012 Gold and R2; Windows RT 8.1; Windows 10 Gold, 1511, and 1607; Windows Server 2016

**利用条件:** 目标系统开启SMBv1服务，且攻击者能够访问目标系统的445端口。

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2017-0144 是一个Windows SMB远程代码执行漏洞，存在于多个Windows版本中。攻击者可以通过精心构造的SMBv1数据包，利用该漏洞在目标系统上执行任意代码。

**有效性：**
漏洞库信息显示存在多个可用的Exploit-DB链接，证明该漏洞存在公开的利用代码。搜索引擎结果为空，没有额外信息，我们暂时依据漏洞库信息和提供的漏洞利用代码进行评估。

**投毒风险：**
提供的漏洞利用代码`/tmp/df4fbfeef5a9324d1b4573686dbedff6/README.md`仅包含一个README文件，内容为如何测试 CVE-2017-0144 漏洞以及可使用的防护措施的指南。 它本身不包含任何实际的漏洞利用代码。由于缺乏实际的payload或者利用脚本，直接植入恶意代码的可能性较低。然而，由于该文档引导用户进行漏洞测试，如果用户从不可信的来源下载了相关的利用工具，则可能存在被植入恶意代码的风险。因此，投毒风险评估为10%。

**利用方式：**
1.  攻击者需要搭建或获取已存在的针对CVE-2017-0144漏洞的利用工具（例如：Eternalblue的修改版）。
2.  利用工具通过 SMB 协议（445端口）向目标主机发送特制的恶意数据包。
3.  恶意数据包会触发SMBv1协议栈中的漏洞，导致执行攻击者预先设定的shellcode。
4.  shellcode可以用来在目标系统上执行任意命令，例如下载并执行恶意程序，或者建立反向Shell连接。

**项目地址:** [AbbeAlthany/Windows-7_och_CVE-2017-0144_Exploit](https://github.com/AbbeAlthany/Windows-7_och_CVE-2017-0144_Exploit)

**漏洞详情:** [CVE-2017-0144](https://nvd.nist.gov/vuln/detail/CVE-2017-0144)