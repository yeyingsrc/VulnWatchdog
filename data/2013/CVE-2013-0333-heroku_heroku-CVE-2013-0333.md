## CVE-2013-0333-Ruby on Rails-YAML Deserialization

**漏洞编号:** CVE-2013-0333

**漏洞类型:** YAML Deserialization

**影响应用:** Ruby on Rails

**危害等级:** 高危，可能导致远程代码执行、SQL注入或绕过身份验证

**影响版本:** Rails 2.3.x (before 2.3.16) and 3.0.x (before 3.0.20)

**利用条件:** 应用程序使用受影响版本的 Rails，并且易受攻击的 JSON/YAML 解析代码被调用。

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2013-0333 描述了 Ruby on Rails 2.3.x（在 2.3.16 之前）和 3.0.x（在 3.0.20 之前）中 `lib/active_support/json/backends/yaml.rb` 文件中存在的一个漏洞。这个漏洞是由于 Rails 没有正确地将 JSON 数据转换为 YAML 数据，导致 YAML 解析器在处理恶意构造的数据时产生安全问题。

**有效性：**

提供的代码是一个用于检查 Heroku 应用程序是否使用了存在漏洞的 Rails 版本的脚本，用于检测特定版本的Rails是否存在漏洞,而不能直接利用漏洞，是一个检测工具，而不是一个攻击工具。

**投毒风险：**

该代码由 Heroku 官方提供，用于帮助用户检测受影响的应用程序。该脚本仅用于读取 Heroku 应用的 Rails 版本，没有发现任何可疑的后门或恶意代码，用于漏洞检测，投毒风险极低。

**利用方式：**

根据漏洞描述，攻击者可以通过发送特制的 JSON 数据，利用 Rails 的 JSON 解析器将数据转换为 YAML 格式时引入的漏洞，从而导致 YAML 解析器执行恶意代码、SQL 注入或绕过身份验证。具体的利用方式取决于应用程序的代码和配置，需要精心构造恶意的 JSON 数据。

总结：此仓库代码主要是用于检测Heroku上rails版本是否在受影响的范围内，并不是漏洞利用代码，不存在投毒的风险，漏洞利用方式是通过发送特制的JSON数据，绕过安全验证从而执行恶意代码。

**项目地址:** [heroku/heroku-CVE-2013-0333](https://github.com/heroku/heroku-CVE-2013-0333)

**漏洞详情:** [CVE-2013-0333](https://nvd.nist.gov/vuln/detail/CVE-2013-0333)